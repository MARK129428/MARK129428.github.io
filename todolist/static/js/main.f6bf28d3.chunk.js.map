{"version":3,"sources":["pages/Home/Home.module.css","components/Title/Title.module.css","components/Item/index.jsx","components/List/index.jsx","components/Header/index.jsx","components/Title/index.jsx","pages/Home/index.jsx","index.js","components/Item/Item.module.css","components/List/List.module.css","components/Header/Header.module.css"],"names":["module","exports","Item","item","toggleData","deleteData","type","className","styles","itemInput","checked","complete","onChange","e","id","text","itemBtn","onClick","List","data","list","filter","map","Header","addData","handleChange","onKeyup","add","input","value","onKeyUp","btn","Title","count","header","jinrishici","require","Home","useState","setData","setCount","setText","poem","setPoem","debounceInput","useRef","debounce","newValue","console","log","prev","uuidv4","useEffect","load","result","a","status","content","counter","forEach","countNum","target","current","keyCode","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f6bf28d3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Home_content__PCgIi\",\"header\":\"Home_header__3NwOp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Title_header__2av7k\",\"count\":\"Title_count__26nXV\"};","import { Fragment } from 'react'\r\nimport styles from './Item.module.css'\r\n\r\nconst Item = ({ item,toggleData,deleteData}) => {\r\n  const changeCheck = (e) => {\r\n    toggleData(item.id)\r\n  }\r\n  const deleteItem = () =>{\r\n    deleteData(item.id)\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <input \r\n        type=\"checkbox\" \r\n        className={styles.itemInput} \r\n        checked={item.complete} \r\n        onChange={changeCheck}\r\n      />\r\n      <p className={styles.text}>{item.text}</p>\r\n      <span className={styles.itemBtn} onClick={deleteItem}>-</span>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Item","import Item from '../Item'\r\nimport styles from './List.module.css'\r\n\r\nconst List = ({ data, complete, toggleData, deleteData }) => {\r\n  return (\r\n    <ul className={styles.list}>\r\n      { \r\n        data.filter((item => item.complete === complete))\r\n        .map((item) => {\r\n            return (\r\n              <li className={`${styles.item} ${complete ? styles.complete : ''}`}  key={item.id}>\r\n                <Item \r\n                  item={item}\r\n                  toggleData={toggleData}\r\n                  deleteData={deleteData}\r\n                ></Item>\r\n              </li>\r\n            )\r\n        })\r\n      }\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default List","import styles from './Header.module.css'\r\n\r\nconst Header = ({ addData,text,handleChange,onKeyup }) => {\r\n\r\n  return (\r\n    <div className={styles.add}>\r\n      <input type=\"text\" className={styles.input} value={text} onChange={handleChange} onKeyUp={onKeyup}/>\r\n      <button className={styles.btn} onClick={addData} >+</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header","import styles from './Title.module.css'\r\n\r\nconst Title = ({ text,  count}) => {\r\n  return (\r\n      <h2 className={styles.header}>\r\n        {text}\r\n        <span className={styles.count}>{count}</span>\r\n      </h2>\r\n  )\r\n}\r\n\r\nexport default Title","import styles from './Home.module.css'\r\nimport List from '../../components/List'\r\nimport Header from '../../components/Header'\r\nimport Title from '../../components/Title'\r\nimport { useEffect, useState, useRef } from 'react'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport debounce from 'lodash.debounce';\r\nconst jinrishici = require('jinrishici');\r\n\r\nconst Home = () => {\r\n  // 数据源\r\n  const [data, setData] = useState([])\r\n  const [count, setCount] = useState(0)\r\n  const [text, setText] = useState('')\r\n  const [poem,setPoem] = useState('诗句不见了QAQ')\r\n  const debounceInput = useRef(debounce((newValue) => console.log(newValue), 1000))\r\n  // 设置数据是否完成\r\n  const toggleData = (e) => {\r\n    setData(data.map((item) => {\r\n      item.complete = item.id === e ? !item.complete : item.complete\r\n      return item\r\n    }))\r\n  }\r\n  // 删除元素\r\n  const deleteData = (e) => {\r\n    setData(data.filter((item) => {\r\n      return e !== item.id\r\n    }))\r\n  }\r\n  // 增加消息\r\n  const addData = () => {\r\n    if (text === '') return\r\n    setData((prev) => [{\r\n      'id': uuidv4(),\r\n      'complete': false,\r\n      text\r\n    }, ...prev])\r\n    setText('')\r\n  }\r\n  // 设置处理输入框\r\n  const handleChange = (e) => {\r\n    setText(e.target.value)\r\n    //需要防抖处理\r\n    debounceInput.current(e.target.value)\r\n  }\r\n\r\n  //监听回车事件\r\n  const onKeyup = (e) => {\r\n    if (e.keyCode === 13) {\r\n      addData()\r\n    }\r\n  }\r\n  // 初始化\r\n  useEffect(() => {\r\n    jinrishici.load( async (result) => {\r\n      if(result.status){\r\n        await setPoem(result.data.content)\r\n      }else{\r\n        await setPoem(\"诗句不见了QAQ\")\r\n      }\r\n    });\r\n  },[]);\r\n  \r\n  useEffect( () => {\r\n    // 统计个数\r\n    const countNum = () => {\r\n      let counter = 0\r\n      data.forEach((item) => {\r\n        if (item.complete === false) {\r\n          counter = counter + 1\r\n        }\r\n      })\r\n      setCount(counter)\r\n    }\r\n    countNum()\r\n  }, [data])\r\n  return (\r\n    <div>\r\n      <h1 className={styles.header}>Todolist</h1>\r\n      <Header\r\n        addData={addData}\r\n        text={text}\r\n        handleChange={handleChange}\r\n        onKeyup={onKeyup}\r\n      ></Header>\r\n      <section className={styles.content}>\r\n        <Title text={'正在进行'} count={count} ></Title>\r\n        <List\r\n          data={data}\r\n          complete={false}\r\n          toggleData={toggleData}\r\n          deleteData={deleteData}\r\n        ></List>\r\n\r\n        <Title text={'已经完成'} count={data.length - count} ></Title>\r\n        <List\r\n          data={data}\r\n          complete={true}\r\n          toggleData={toggleData}\r\n          deleteData={deleteData}\r\n        ></List>\r\n      </section>\r\n      <footer>{poem}</footer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Home from './pages/Home';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Home></Home>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemInput\":\"Item_itemInput__18u0r\",\"text\":\"Item_text__M9_7E\",\"itemBtn\":\"Item_itemBtn__41Gj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"List_list__1QsDB\",\"item\":\"List_item__1YT4_\",\"complete\":\"List_complete__1NB6q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"add\":\"Header_add__14n_o\",\"input\":\"Header_input__1FSQs\",\"btn\":\"Header_btn__1cJRu\"};"],"sourceRoot":""}